{
  "id": "154381e9-717c-4fcd-a97a-bb5067eb4dd4",
  "prevId": "ee1f6dd3-0899-4e91-843e-962d43c062eb",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.api_keys": {
      "name": "api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "encrypted_key": {
          "name": "encrypted_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "encrypted_key_hash": {
          "name": "encrypted_key_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "api_keys_encrypted_key_hash_key": {
          "name": "api_keys_encrypted_key_hash_key",
          "columns": [
            {
              "expression": "encrypted_key_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_keys_encrypted_key_key": {
          "name": "api_keys_encrypted_key_key",
          "columns": [
            {
              "expression": "encrypted_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "api_keys_encrypted_key_unique": {
          "name": "api_keys_encrypted_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "encrypted_key"
          ]
        },
        "api_keys_encrypted_key_hash_unique": {
          "name": "api_keys_encrypted_key_hash_unique",
          "nullsNotDistinct": false,
          "columns": [
            "encrypted_key_hash"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.appeal_actions": {
      "name": "appeal_actions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "appeal_id": {
          "name": "appeal_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "AppealActionStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "via": {
          "name": "via",
          "type": "Via",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Inbound'"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "appeal_actions_appeal_id_fkey": {
          "name": "appeal_actions_appeal_id_fkey",
          "tableFrom": "appeal_actions",
          "tableTo": "appeals",
          "columnsFrom": [
            "appeal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.appeals": {
      "name": "appeals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_user_action_id": {
          "name": "record_user_action_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sort": {
          "name": "sort",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "action_status": {
          "name": "action_status",
          "type": "AppealActionStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "action_status_created_at": {
          "name": "action_status_created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "appeals_clerk_organization_id_idx": {
          "name": "appeals_clerk_organization_id_idx",
          "columns": [
            {
              "expression": "clerk_organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "appeals_record_user_action_id_idx": {
          "name": "appeals_record_user_action_id_idx",
          "columns": [
            {
              "expression": "record_user_action_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "appeals_record_user_action_id_key": {
          "name": "appeals_record_user_action_id_key",
          "columns": [
            {
              "expression": "record_user_action_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "appeals_sort_key": {
          "name": "appeals_sort_key",
          "columns": [
            {
              "expression": "sort",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "appeals_record_user_action_id_fkey": {
          "name": "appeals_record_user_action_id_fkey",
          "tableFrom": "appeals",
          "tableTo": "record_user_actions",
          "columnsFrom": [
            "record_user_action_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "appeals_record_user_action_id_unique": {
          "name": "appeals_record_user_action_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "record_user_action_id"
          ]
        },
        "appeals_sort_unique": {
          "name": "appeals_sort_unique",
          "nullsNotDistinct": false,
          "columns": [
            "sort"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.category_openai_moderation_parameters": {
      "name": "category_openai_moderation_parameters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sexual": {
          "name": "sexual",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "sexual_minors": {
          "name": "sexual_minors",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "harassment": {
          "name": "harassment",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "harassment_threatening": {
          "name": "harassment_threatening",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "hate": {
          "name": "hate",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "hate_threatening": {
          "name": "hate_threatening",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "illicit": {
          "name": "illicit",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "illicit_violent": {
          "name": "illicit_violent",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "self_harm": {
          "name": "self_harm",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "self_harm_intent": {
          "name": "self_harm_intent",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "self_harm_instructions": {
          "name": "self_harm_instructions",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "violence": {
          "name": "violence",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "violence_graphic": {
          "name": "violence_graphic",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "category_openai_moderation_parameters_category_id_key": {
          "name": "category_openai_moderation_parameters_category_id_key",
          "columns": [
            {
              "expression": "category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "category_openai_moderation_parameters_category_id_fkey": {
          "name": "category_openai_moderation_parameters_category_id_fkey",
          "tableFrom": "category_openai_moderation_parameters",
          "tableTo": "ruleset_categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "category_openai_moderation_parameters_category_id_unique": {
          "name": "category_openai_moderation_parameters_category_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "category_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.custom_email_configurations": {
      "name": "custom_email_configurations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "custom_email_configurations_clerk_organization_id_key": {
          "name": "custom_email_configurations_clerk_organization_id_key",
          "columns": [
            {
              "expression": "clerk_organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "custom_email_configurations_clerk_organization_id_unique": {
          "name": "custom_email_configurations_clerk_organization_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "clerk_organization_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_templates": {
      "name": "email_templates",
      "schema": "",
      "columns": {
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "EmailTemplateType",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "email_templates_pkey": {
          "name": "email_templates_pkey",
          "columns": [
            "clerk_organization_id",
            "type"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.examples": {
      "name": "examples",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_urls": {
          "name": "image_urls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category_id": {
          "name": "category_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "flagged": {
          "name": "flagged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "examples_category_id_fkey": {
          "name": "examples_category_id_fkey",
          "tableFrom": "examples",
          "tableTo": "ruleset_categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_user_action_id": {
          "name": "record_user_action_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_id": {
          "name": "to_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_id": {
          "name": "from_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "MessageType",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "MessageStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "appeal_id": {
          "name": "appeal_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sort": {
          "name": "sort",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "messages_sort_key": {
          "name": "messages_sort_key",
          "columns": [
            {
              "expression": "sort",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "messages_appeal_id_fkey": {
          "name": "messages_appeal_id_fkey",
          "tableFrom": "messages",
          "tableTo": "appeals",
          "columnsFrom": [
            "appeal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        },
        "messages_from_id_fkey": {
          "name": "messages_from_id_fkey",
          "tableFrom": "messages",
          "tableTo": "record_users",
          "columnsFrom": [
            "from_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        },
        "messages_record_user_action_id_fkey": {
          "name": "messages_record_user_action_id_fkey",
          "tableFrom": "messages",
          "tableTo": "record_user_actions",
          "columnsFrom": [
            "record_user_action_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "messages_to_id_fkey": {
          "name": "messages_to_id_fkey",
          "tableFrom": "messages",
          "tableTo": "record_users",
          "columnsFrom": [
            "to_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "messages_sort_unique": {
          "name": "messages_sort_unique",
          "nullsNotDistinct": false,
          "columns": [
            "sort"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public._ModerationToRulesetCategory": {
      "name": "_ModerationToRulesetCategory",
      "schema": "",
      "columns": {
        "A": {
          "name": "A",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "B": {
          "name": "B",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "_ModerationToRulesetCategory_AB_unique": {
          "name": "_ModerationToRulesetCategory_AB_unique",
          "columns": [
            {
              "expression": "A",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "B",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "_ModerationToRulesetCategory_B_index": {
          "name": "_ModerationToRulesetCategory_B_index",
          "columns": [
            {
              "expression": "B",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "_ModerationToRulesetCategory_A_fkey": {
          "name": "_ModerationToRulesetCategory_A_fkey",
          "tableFrom": "_ModerationToRulesetCategory",
          "tableTo": "moderations",
          "columnsFrom": [
            "A"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "_ModerationToRulesetCategory_B_fkey": {
          "name": "_ModerationToRulesetCategory_B_fkey",
          "tableFrom": "_ModerationToRulesetCategory",
          "tableTo": "ruleset_categories",
          "columnsFrom": [
            "B"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "_ModerationToRulesetCategory_A_B_pk": {
          "name": "_ModerationToRulesetCategory_A_B_pk",
          "columns": [
            "A",
            "B"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.moderations": {
      "name": "moderations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "ModerationStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "pending": {
          "name": "pending",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "via": {
          "name": "via",
          "type": "Via",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'AI'"
        },
        "reasoning": {
          "name": "reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "record_id": {
          "name": "record_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ruleset_id": {
          "name": "ruleset_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "test_mode": {
          "name": "test_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "tokens": {
          "name": "tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "moderations_record_id_idx": {
          "name": "moderations_record_id_idx",
          "columns": [
            {
              "expression": "record_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "moderations_org_status_idx": {
          "name": "moderations_org_status_idx",
          "columns": [
            {
              "expression": "clerk_organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "moderations_record_id_fkey": {
          "name": "moderations_record_id_fkey",
          "tableFrom": "moderations",
          "tableTo": "records",
          "columnsFrom": [
            "record_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "moderations_ruleset_id_fkey": {
          "name": "moderations_ruleset_id_fkey",
          "tableFrom": "moderations",
          "tableTo": "rulesets",
          "columnsFrom": [
            "ruleset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.openai_moderation_parameters": {
      "name": "openai_moderation_parameters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sexual": {
          "name": "sexual",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "sexual_minors": {
          "name": "sexual_minors",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "harassment": {
          "name": "harassment",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "harassment_threatening": {
          "name": "harassment_threatening",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "hate": {
          "name": "hate",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "hate_threatening": {
          "name": "hate_threatening",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "illicit": {
          "name": "illicit",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "illicit_violent": {
          "name": "illicit_violent",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "self_harm": {
          "name": "self_harm",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "self_harm_intent": {
          "name": "self_harm_intent",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "self_harm_instructions": {
          "name": "self_harm_instructions",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "violence": {
          "name": "violence",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "violence_graphic": {
          "name": "violence_graphic",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "openai_moderation_parameters_clerk_organization_id_key": {
          "name": "openai_moderation_parameters_clerk_organization_id_key",
          "columns": [
            {
              "expression": "clerk_organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "openai_moderation_parameters_clerk_organization_id_unique": {
          "name": "openai_moderation_parameters_clerk_organization_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "clerk_organization_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organization_settings": {
      "name": "organization_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "emails_enabled": {
          "name": "emails_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "test_mode_enabled": {
          "name": "test_mode_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "appeals_enabled": {
          "name": "appeals_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "categories_enabled": {
          "name": "categories_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "blocklist": {
          "name": "blocklist",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "stripe_api_key": {
          "name": "stripe_api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "moderation_percentage": {
          "name": "moderation_percentage",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "organization_settings_clerk_organization_id_key": {
          "name": "organization_settings_clerk_organization_id_key",
          "columns": [
            {
              "expression": "clerk_organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organization_settings_clerk_organization_id_unique": {
          "name": "organization_settings_clerk_organization_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "clerk_organization_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.record_user_actions": {
      "name": "record_user_actions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_user_id": {
          "name": "record_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "RecordUserActionStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "via": {
          "name": "via",
          "type": "Via",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Automation'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "record_user_actions_record_user_id_idx": {
          "name": "record_user_actions_record_user_id_idx",
          "columns": [
            {
              "expression": "record_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "record_user_actions_record_user_id_fkey": {
          "name": "record_user_actions_record_user_id_fkey",
          "tableFrom": "record_user_actions",
          "tableTo": "record_users",
          "columnsFrom": [
            "record_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.record_users": {
      "name": "record_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_url": {
          "name": "client_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_account_id": {
          "name": "stripe_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "protected": {
          "name": "protected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sort": {
          "name": "sort",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "action_status": {
          "name": "action_status",
          "type": "RecordUserActionStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "action_status_created_at": {
          "name": "action_status_created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        },
        "flagged_records_count": {
          "name": "flagged_records_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "record_users_clerk_organization_id_idx": {
          "name": "record_users_clerk_organization_id_idx",
          "columns": [
            {
              "expression": "clerk_organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "record_users_client_id_key": {
          "name": "record_users_client_id_key",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "record_users_sort_key": {
          "name": "record_users_sort_key",
          "columns": [
            {
              "expression": "sort",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "record_users_client_id_unique": {
          "name": "record_users_client_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "client_id"
          ]
        },
        "record_users_sort_unique": {
          "name": "record_users_sort_unique",
          "nullsNotDistinct": false,
          "columns": [
            "sort"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.records": {
      "name": "records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_url": {
          "name": "client_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity": {
          "name": "entity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_urls": {
          "name": "image_urls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "external_urls": {
          "name": "external_urls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "record_user_id": {
          "name": "record_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sort": {
          "name": "sort",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "moderation_status": {
          "name": "moderation_status",
          "type": "ModerationStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "moderation_status_created_at": {
          "name": "moderation_status_created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        },
        "moderation_pending": {
          "name": "moderation_pending",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "moderation_pending_created_at": {
          "name": "moderation_pending_created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "records_clerk_organization_id_idx": {
          "name": "records_clerk_organization_id_idx",
          "columns": [
            {
              "expression": "clerk_organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "records_client_id_key": {
          "name": "records_client_id_key",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "records_record_user_id_idx": {
          "name": "records_record_user_id_idx",
          "columns": [
            {
              "expression": "record_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "records_sort_key": {
          "name": "records_sort_key",
          "columns": [
            {
              "expression": "sort",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "records_record_user_id_fkey": {
          "name": "records_record_user_id_fkey",
          "tableFrom": "records",
          "tableTo": "record_users",
          "columnsFrom": [
            "record_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "records_client_id_unique": {
          "name": "records_client_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "client_id"
          ]
        },
        "records_sort_unique": {
          "name": "records_sort_unique",
          "nullsNotDistinct": false,
          "columns": [
            "sort"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ruleset_categories": {
      "name": "ruleset_categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prompt": {
          "name": "prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blocklist": {
          "name": "blocklist",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "ruleset_id": {
          "name": "ruleset_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ruleset_categories_ruleset_id_fkey": {
          "name": "ruleset_categories_ruleset_id_fkey",
          "tableFrom": "ruleset_categories",
          "tableTo": "rulesets",
          "columnsFrom": [
            "ruleset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rulesets": {
      "name": "rulesets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_endpoints": {
      "name": "webhook_endpoints",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret": {
          "name": "secret",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_events": {
      "name": "webhook_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "webhook_endpoint_id": {
          "name": "webhook_endpoint_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "WebhookEventStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "webhook_events_webhook_endpoint_id_fkey": {
          "name": "webhook_events_webhook_endpoint_id_fkey",
          "tableFrom": "webhook_events",
          "tableTo": "webhook_endpoints",
          "columnsFrom": [
            "webhook_endpoint_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.AppealActionStatus": {
      "name": "AppealActionStatus",
      "schema": "public",
      "values": [
        "Open",
        "Rejected",
        "Approved"
      ]
    },
    "public.EmailTemplateType": {
      "name": "EmailTemplateType",
      "schema": "public",
      "values": [
        "Suspended",
        "Compliant",
        "Banned"
      ]
    },
    "public.MessageStatus": {
      "name": "MessageStatus",
      "schema": "public",
      "values": [
        "Pending",
        "Delivered"
      ]
    },
    "public.MessageType": {
      "name": "MessageType",
      "schema": "public",
      "values": [
        "Outbound",
        "Inbound"
      ]
    },
    "public.ModerationStatus": {
      "name": "ModerationStatus",
      "schema": "public",
      "values": [
        "Compliant",
        "Flagged"
      ]
    },
    "public.RecordUserActionStatus": {
      "name": "RecordUserActionStatus",
      "schema": "public",
      "values": [
        "Compliant",
        "Suspended",
        "Banned"
      ]
    },
    "public.Via": {
      "name": "Via",
      "schema": "public",
      "values": [
        "Inbound",
        "Manual",
        "Automation",
        "AI"
      ]
    },
    "public.WebhookEventStatus": {
      "name": "WebhookEventStatus",
      "schema": "public",
      "values": [
        "Pending",
        "Sent",
        "Failed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {
    "public.moderations_analytics_daily": {
      "columns": {
        "time": {
          "name": "time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "moderations": {
          "name": "moderations",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "flagged": {
          "name": "flagged",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "definition": "\n  SELECT\n    date_trunc('day', \"moderations\".\"created_at\" AT TIME ZONE 'UTC') AS time,\n    \"moderations\".\"clerk_organization_id\" AS clerk_organization_id,\n    COUNT(*)::int AS moderations,\n    COUNT(*) FILTER (WHERE \"moderations\".\"status\" = 'Flagged')::int AS flagged\n  FROM \"moderations\"\n  WHERE \"moderations\".\"created_at\" AT TIME ZONE 'UTC' >= date_trunc('day', now() AT TIME ZONE 'UTC') - INTERVAL '29 days'\n  GROUP BY time, \"moderations\".\"clerk_organization_id\"\n",
      "name": "moderations_analytics_daily",
      "schema": "public",
      "isExisting": false,
      "materialized": true
    },
    "public.moderations_analytics_hourly": {
      "columns": {
        "time": {
          "name": "time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "moderations": {
          "name": "moderations",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "flagged": {
          "name": "flagged",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "definition": "\n  SELECT\n    date_trunc('hour', \"moderations\".\"created_at\" AT TIME ZONE 'UTC') AS time,\n    \"moderations\".\"clerk_organization_id\" AS clerk_organization_id,\n    COUNT(*)::int AS moderations,\n    COUNT(*) FILTER (WHERE \"moderations\".\"status\" = 'Flagged')::int AS flagged\n  FROM \"moderations\"\n  WHERE \"moderations\".\"created_at\" AT TIME ZONE 'UTC' >= date_trunc('hour', now() AT TIME ZONE 'UTC') - INTERVAL '23 hours'\n  GROUP BY time, \"moderations\".\"clerk_organization_id\"\n",
      "name": "moderations_analytics_hourly",
      "schema": "public",
      "isExisting": false,
      "materialized": true
    }
  },
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}