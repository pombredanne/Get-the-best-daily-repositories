import{d as U,a as n,b as r,h as te,c as _,i as se,j as ae,k as le,r as d,l as oe,w as ne,o as re,f as o,u as a,e as t,t as k,m as u,n as h,F as g,p as w,q as ie,s as ce,v as ue,N as de,x as pe,y as me,z as he,L as fe,A as P,B as j,C as V,D as ve,E as xe}from"./index-181d502b.js";import{_ as _e}from"./titleBar.vue_vue_type_script_setup_true_lang-4eb7762b.js";import{_ as T}from"./index.vue_vue_type_style_index_0_lang-079613fd.js";import{N as ke}from"./InputGroup-e18be1cf.js";import"./index-c94da121.js";const ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},we=te('<path d="M432 112V96a48.14 48.14 0 0 0-48-48H64a48.14 48.14 0 0 0-48 48v256a48.14 48.14 0 0 0 48 48h16" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32"></path><rect x="96" y="128" width="400" height="336" rx="45.99" ry="45.99" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32"></rect><ellipse cx="372.92" cy="219.64" rx="30.77" ry="30.55" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></ellipse><path d="M342.15 372.17L255 285.78a30.93 30.93 0 0 0-42.18-1.21L96 387.64" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M265.23 464l118.59-117.73a31 31 0 0 1 41.46-1.87L496 402.91" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path>',5),be=[we],ye=U({name:"ImagesOutline",render:function(N,I){return n(),r("svg",ge,be)}}),Le={class:"flex my-5"},Ce=t("p",{class:"mx-2 text-[#707384] select-none flex-shrink-0"}," Prompt示例： ",-1),De={class:"text-[#707384]"},Ne=t("h4",{class:"text-base mb-2"}," 参数设置 ",-1),Ie={class:"flex items-center mt-5"},Me=t("span",{class:"mr-2 inline-block w-16 flex-shrink-0"},"图片尺寸:",-1),$e=["onClick"],Be={class:"flex items-center mt-5"},ze=t("span",{class:"mr-2 inline-block w-16 flex-shrink-0"},"图片质量:",-1),Ae=["onClick"],Ee=t("div",{class:"flex mt-5"},[t("h4",{class:"text-base mr-2 w-20 flex-shrink-0"}," 修饰词参考 "),t("p",{class:"text-[#707384]"}," 您可参考或选用下列各类修饰词丰富您的输入文本，尝试生成更加多样的图像，更多修饰词可参考 Prompt指南 或 自由输入 探索大模型作画更多未知能力 ")],-1),Se={class:"flex mt-5"},qe=t("h4",{class:"text-base mr-2 w-20 flex-shrink-0"}," 图像类型 ",-1),Pe=["onClick"],je={key:0,class:"mt-8 pb-10"},Ve=t("div",{class:"flex justify-center"}," ----------- 正在生成中、图片越大数量越多所需时间越多、预计25S ----------- ",-1),Te={class:"flex flex-wrap mt-8"},Ue={key:0,class:"min-h-screen"},Fe={key:0,class:"min-h-screen"},Re=U({__name:"index",setup(F){const N=_(()=>M.theme),I=se(),G=_(()=>N.value==="dark"?"#fff":"#000"),{isMobile:p}=ae(),M=le(),O=_(()=>I.isLogin),f=d(0),c=d(!1),b=oe(),y=d([]),L=d([]),H=_(()=>M.theme==="dark"),C=d("all");ne(O,async(s,i)=>{s&&!i&&D()});const $=["超级逼真的未来世界，真实照片，虚幻引擎","帅哥，二次元，赛博朋克风格，精致脸庞","兔子，可爱，高质量，高品质"],J=[{label:"1024x1024",value:"1024x1024"},{label:"1024x1792",value:"1024x1792"},{label:"1792x1024",value:"1792x1024"}],K=[{label:"标准(2积分)",value:"standard"},{label:"优质(4积分)",value:"hd"}],B=["古风","二次元","写实照片","油画","水彩画","油墨画","黑白雕版画","雕塑","3D模型","手绘草图","炭笔画","极简线条画","电影质感","机械感"],l=d({prompt:"",n:1,size:"1024x1024",quality:"standard"});function Q(){f.value=f.value+1>=$.length?0:f.value+1}async function D(){const s=await ue({model:"DALL-E2"});s.success&&(y.value=S(s.data))}async function z(){const s=await ce({size:999,rec:1,model:"DALL-E2"});if(!s.success)return b.error(s.message);L.value=S(s.data.rows)}function A(){}function E(s){l.value.prompt=s}function S(s){if(!s)return[];const i=[];return s.forEach(e=>{const{id:m,fileInfo:v,prompt:q,thumbImg:X}=e;let x=null;if(typeof v=="string")try{x=JSON.parse(v)}catch{x={}}else x=v||{};const{width:Y,height:Z,cosUrl:ee}=x;i.push({id:m,prompt:q,fullPrompt:q,fileInfo:{thumbImg:X,width:Y,height:Z,cosUrl:ee}})}),i.filter(e=>e.fileInfo&&e.fileInfo.width)}async function R(){if(!l.value.prompt)return b.error("请输入您想要生成的图片描述信息！");try{c.value=!0,await xe(l.value),b.success("生成图片成完成、请前往查看吧！"),C.value="mine",await D(),c.value=!1}catch{c.value=!1}}function W(s){s==="mine"&&D(),s==="all"&&z()}return re(()=>{z()}),(s,i)=>(n(),r("div",{class:h(["main min-h-[calc(100vh-69px)] rounded-md bg-white bg-center dark:bg-[#1f1f1f]",[a(H)?"darkBg":"lightBg",a(p)?"px-3":"px-10"]])},[o(a(_e),{title:"DALL-E绘画",des:"基于DALL-E的绘画、速度较快、同步等待到结束后在我的绘画中可以看到结果！",padding:a(p)?2:20},null,8,["padding"]),t("div",{class:h(a(p)?["px-2"]:["px-20"])},[t("div",Le,[t("b",{class:"text-primary cursor-pointer select-none flex-shrink-0",onClick:Q},"换示例"),Ce,t("p",De,k($[f.value]),1)]),o(a(ke),null,{default:u(()=>[o(a(de),{value:l.value.prompt,"onUpdate:value":i[0]||(i[0]=e=>l.value.prompt=e),disabled:c.value,clearable:"",placeholder:"请输入您想要生成的图片描述信息、可以参考上面的示例文字、我们将会对其转为英文绘画、请知悉！"},null,8,["value","disabled"]),o(a(pe),{type:"primary",loading:c.value,disabled:c.value,onClick:R},{icon:u(()=>[o(a(me),null,{default:u(()=>[o(a(ye))]),_:1})]),default:u(()=>[he(" 生成图片 ")]),_:1},8,["loading","disabled"])]),_:1}),t("div",{class:h(["mt-5 py-4 bg-[#e7eaf380] dark:bg-[#2c2c32] rounded-lg",a(p)?"px-0":"px-4"])},[Ne,t("div",Ie,[Me,t("div",null,[(n(),r(g,null,w(J,e=>t("span",{key:e.value,class:h(["rounded ml-2 select-none cursor-pointer inline-block mb-2",[e.value===l.value.size?["text-primary","bg-[#0d6efd1c]"]:["bg-[#bfc4d033]"],a(p)?"px-1.5 py-0.5":"px-3 py-1"]]),onClick:m=>l.value.size=e.value},k(e.label),11,$e)),64))])]),t("div",Be,[ze,t("div",null,[(n(),r(g,null,w(K,e=>t("span",{key:e.value,class:h(["py-0.5 px-2.5 rounded ml-2 select-none cursor-pointer inline-block mb-2",e.value===l.value.quality?["text-primary","bg-[#0d6efd1c]"]:["bg-[#bfc4d033]"]]),onClick:m=>l.value.quality=e.value},k(e.label),11,Ae)),64))])]),Ee,t("div",Se,[qe,t("div",null,[(n(),r(g,null,w(B,(e,m)=>t("span",{key:e,class:"cursor-pointer hover:text-primary",onClick:v=>l.value.prompt+=l.value.prompt?`，${e}`:e},k(`${e} ${m+1===B.length?"":"、"}`),9,Pe)),64))])])],2),c.value?(n(),r("div",je,[Ve,t("div",Te,[(n(!0),r(g,null,w(l.value.n,e=>(n(),r("div",{key:e,class:"w-44 h-44 border rounded-md relative ml-4 mt-4"},[o(fe,{"text-color":a(G),words:["图","片","绘","制","中"]},null,8,["text-color"])]))),128))])])):ie("",!0),o(a(ve),{value:C.value,"onUpdate:value":[i[1]||(i[1]=e=>C.value=e),W],type:"line",animated:"",class:"mt-5"},{default:u(()=>[o(a(P),{name:"all",tab:"公共生成"},{default:u(()=>[L.value.length?(n(),r("div",Ue,[o(T,{"use-propmpt":"",gap:8,"pre-origin":"","data-list":L.value,"scale-width":50,onLoadMore:A,onUsePropmptDraw:E},null,8,["data-list"])])):(n(),j(a(V),{key:1,size:"huge",class:"mt-20",description:"暂无数据哟~"}))]),_:1}),o(a(P),{name:"mine",tab:"我的生成"},{default:u(()=>[y.value.length?(n(),r("div",Fe,[o(T,{"use-propmpt":"",gap:8,"pre-origin":"","data-list":y.value,"scale-width":50,onLoadMore:A,onUsePropmptDraw:E},null,8,["data-list"])])):(n(),j(a(V),{key:1,size:"huge",class:"mt-20",description:"暂无数据哟~"}))]),_:1})]),_:1},8,["value"])],2)],2))}});export{Re as default};
